<div class="container">
    <div class="row">
    <div class="col-sm-12">   
        <br>
        <div class="form-group">
            <label for="ventaId">Id de la venta</label>
            <input class="form-control" type="number" [(ngModel)]="ventaId" name="ventaId" placeholder="Id de la venta a buscar">
        </div>
        <br>
        <button (click)="GetSaleDetails()" class="btn btn-primary">Buscar venta</button>
    </div>
    <div class="col-sm-6" *ngIf="isValidSaleId">
      <div class="form-group">
        <br>
        <label for="">Beneficiario</label>
        <select [disabled]="isSelectorDisabled" required [(ngModel)]="beneficiarioId" name="beneficiario" class="form-control" *ngIf="folios">Folio
          <option *ngFor="let beneficiario of beneficiarios" [value]="beneficiario.BeneficiarioID">
            {{beneficiario.Nombres}} {{beneficiario.ApellidoPaterno}} {{beneficiario.ApellidoMaterno}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="">Folio (Opcional)</label>
        <select [(ngModel)]="folio"  (ngModelChange)="OnFolioChange()"name="folio" class="form-control" *ngIf="folios">Folio
          <option value="">(Vacío)</option>
          <option *ngFor="let folio of folios.Folios" [value]="folio.folio">{{folio.folio}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="">Tipo de venta</label>
        <select required [(ngModel)]="tipoVenta" name="tipo" class="form-control">Folio
          <option *ngFor="let tipo of tiposVenta" [value]="tipo.value">{{tipo.label}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="">Monto total</label>
        <input [(ngModel)]="montoTotal" name="total" required class="form-control" type="number" min="1">
      </div>
      <div class="form-group">
        <label for="">Anticipo</label>
        <input required [(ngModel)]="anticipo" class="form-control" type="number" name="anticipo" min="0">
      </div>
      <div class="form-group">
        <label for="">Periodicidad de pagos (Días)</label>
        <input required [(ngModel)]="periodicidad" name="periodicidad" class="form-control" type="number" min="1">
      </div>
          <div class="form-group">
        <label for="">Total de pagos que se harán</label>
        <input required [(ngModel)]="numeroPagos" name="numeroPagos" class="form-control" type="number" min="1">
      </div>
      <div class="form-group">
        <label for="">Fecha de venta</label>
        <input required class="form-control" [(ngModel)]="fechaExamen" name="fecha" type="date">
      </div>
      <div class="form-group">
        <label for="">Material</label>
        <select required [(ngModel)]="materialId" name="lenteId" class="form-control" *ngIf="materiales">Folio
          <option *ngFor="let item of materiales" [value]="item.MaterialID">{{item.Descripcion}}</option>
        </select>
      </div>
    </div>
    <div class="col-sm-6" *ngIf="isValidSaleId">
      <div class="form-group">
        <label for="">Protección</label>
        <select required [(ngModel)]="proteccionId" name="proteccionId" class="form-control" *ngIf="protecciones">Folio
          <option *ngFor="let item of protecciones" [value]="item.ProteccionID">{{item.Descripcion}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="">Lente</label>
        <select required [(ngModel)]="lenteId" name="lenteId" class="form-control" *ngIf="lentes">Folio
          <option *ngFor="let item of lentes" [value]="item.LenteID">{{item.Descripcion}}</option>
        </select>
      </div>
  
      <h5>Detalles de armazón para venta</h5>
  
      <div class="form-group">
        <label for="">Descripción (Nombre, Detalles, Observaciones, Biselado, Perforado, Ranurado...)</label>
        <input [(ngModel)]="descArmazon" name="descripcion" type="text" maxlength="35" class="form-control">
      </div>
      <div class="form-group">
        <label for="">Marca</label>
        <select [(ngModel)]="marcaId" class="form-control" name="marcaId" *ngIf="marcas">
          <option *ngFor="let item of marcas" [value]="item.MarcaID">{{item.Descripcion}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="">Color</label>
        <select [(ngModel)]="colorId" class="form-control" name="colorId" *ngIf="colores">Folio
          <option *ngFor="let item of colores" [value]="item.ColorID">{{item.Descripcion}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="">Tamaño</label>
        <select [(ngModel)]="tamanioId" class="form-control" name="tamanio" *ngIf="tamanios">Folio
          <option *ngFor="let item of tamanios" [value]="item.TamanioID">{{item.Descripcion}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="">Modelo</label>
        <select [(ngModel)]="modeloId" class="form-control" name="modelo" *ngIf="modelos">Folio
          <option *ngFor="let item of modelos" [value]="item.ModeloID">{{item.Descripcion}}</option>
        </select>
      </div>
  
      <br>
      <button (click)="RegisterSale()" class="btn btn-primary">Actualizar venta</button>
    </div>
    
  </div>